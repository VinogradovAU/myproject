
1. Пусть в таблице users поля created_at и updated_at оказались незаполненными.
Заполните их текущими датой и временем.

mysql> select now();
+---------------------+
| now()               |
+---------------------+
| 2020-04-05 15:55:24 |
+---------------------+
1 row in set (0,00 sec)

mysql> desc users;
+------------+--------------+------+-----+-------------------+-----------------------------------------------+
| Field      | Type         | Null | Key | Default           | Extra                                         |
+------------+--------------+------+-----+-------------------+-----------------------------------------------+
| id         | int unsigned | NO   | PRI | NULL              | auto_increment                                |
| first_name | varchar(100) | NO   |     | NULL              |                                               |
| last_name  | varchar(100) | NO   |     | NULL              |                                               |
| email      | varchar(120) | NO   | UNI | NULL              |                                               |
| phone      | varchar(120) | NO   | UNI | NULL              |                                               |
| created_at | datetime     | YES  |     | CURRENT_TIMESTAMP | DEFAULT_GENERATED                             |
| updated_at | datetime     | YES  |     | CURRENT_TIMESTAMP | DEFAULT_GENERATED on update CURRENT_TIMESTAMP |
+------------+--------------+------+-----+-------------------+-----------------------------------------------+
7 rows in set (0,00 sec)

mysql> select created_at, updated_at from users;
+---------------------+---------------------+
| created_at          | updated_at          |
+---------------------+---------------------+
| 2010-11-09 17:22:15 | 2010-12-06 00:12:15 |
| 2011-03-10 19:36:02 | 2011-03-14 14:44:02 |
| 2011-01-23 19:50:19 | 2011-02-16 07:01:19 |
| 2011-11-14 04:56:36 | 2011-12-06 19:26:36 |
| 2019-11-13 23:46:41 | 2019-11-28 20:04:41 |
| 2013-11-15 15:25:48 | 2013-11-22 01:27:48 |
| 2018-08-15 22:11:02 | 2018-08-31 06:05:02 |
| 2011-05-11 01:50:59 | 2011-05-12 21:57:59 |
| 2010-05-18 17:53:55 | 2010-06-06 12:06:55 |
| 2018-10-22 08:34:39 | 2018-10-27 07:19:39 |
| 2018-07-21 18:41:25 | 2018-08-14 19:07:25 |
| 2012-05-18 04:12:30 | 2012-06-09 02:08:30 |
| 2011-01-19 04:50:57 | 2011-01-28 22:31:57 |
| 2014-05-28 01:06:39 | 2014-06-07 18:25:39 |
| 2013-05-18 00:22:28 | 2013-06-11 09:54:28 |
| 2017-02-20 15:41:55 | 2017-02-27 03:23:55 |
| 2019-05-17 18:35:04 | 2019-06-01 13:50:04 |
| 2018-01-07 19:46:12 | 2018-02-03 14:17:12 |
| 2013-12-26 16:09:45 | 2014-01-01 18:57:45 |
| 2015-02-16 10:18:44 | 2015-02-22 06:06:44 |
| 2020-02-09 01:32:40 | 2020-02-19 20:09:40 |
| 2016-10-31 08:49:16 | 2016-11-08 23:51:16 |
| 2012-10-26 20:26:07 | 2012-11-06 15:46:07 |
| 2017-01-14 11:22:33 | 2017-01-14 20:15:33 |
| 2010-11-02 21:27:16 | 2010-11-27 21:11:16 |
| 2018-07-09 08:59:34 | 2018-07-22 02:24:34 |
| 2012-06-11 14:06:32 | 2012-06-28 00:36:32 |
| 2013-08-01 00:16:01 | 2013-08-17 05:55:01 |
| 2013-09-12 04:40:44 | 2013-09-16 06:44:44 |
| 2012-04-10 06:42:47 | 2012-05-07 13:24:47 |
| 2012-08-14 14:01:49 | 2012-08-27 14:41:49 |
| 2014-02-22 16:39:45 | 2014-03-05 18:33:45 |
| 2019-03-17 20:23:58 | 2019-04-03 03:55:58 |
| 2019-06-08 14:48:52 | 2019-06-29 04:05:52 |
| 2018-12-09 00:02:58 | 2019-01-04 01:11:58 |
| 2012-08-26 19:39:40 | 2012-09-08 20:14:40 |
| 2015-10-25 11:34:45 | 2015-11-09 05:41:45 |
| 2017-09-17 00:48:08 | 2017-09-23 22:58:08 |
| 2010-10-09 22:18:33 | 2010-10-28 01:29:33 |
| 2012-01-30 08:00:42 | 2012-02-13 16:05:42 |
| 2016-11-25 22:38:54 | 2016-12-13 05:33:54 |
| 2012-06-25 05:44:23 | 2012-07-10 21:21:23 |
| 2014-01-26 20:45:38 | 2014-02-22 06:09:38 |
| 2016-12-01 18:34:06 | 2016-12-03 10:40:06 |
| 2012-02-14 00:53:58 | 2012-02-26 13:13:58 |
| 2013-11-01 19:41:45 | 2013-11-03 19:42:45 |
| 2019-06-25 03:56:49 | 2019-06-25 09:40:49 |
| 2019-04-30 06:50:10 | 2019-05-23 06:11:10 |
| 2010-07-26 22:00:29 | 2010-07-29 22:53:29 |
| 2011-06-20 18:05:50 | 2011-06-22 13:49:50 |
| 2013-10-04 02:29:15 | 2013-10-04 02:29:15 |
| 2013-03-13 23:17:52 | 2013-04-05 06:44:52 |
| 2011-07-25 13:47:09 | 2011-07-26 00:22:09 |
| 2020-01-02 10:52:16 | 2020-01-21 01:30:16 |
| 2012-08-31 12:17:19 | 2012-09-08 21:40:19 |
| 2018-01-30 11:42:39 | 2018-02-13 09:23:39 |
| 2016-03-19 21:33:33 | 2016-04-05 11:09:33 |
| 2010-08-07 02:22:26 | 2010-08-20 10:38:26 |
| 2019-11-29 03:07:51 | 2019-12-16 03:43:51 |
| 2014-02-14 16:06:18 | 2014-03-03 23:36:18 |
| 2012-09-18 00:22:09 | 2012-09-25 17:24:09 |
| 2016-05-01 23:50:32 | 2016-05-16 09:11:32 |
| 2017-10-19 00:32:50 | 2017-11-09 01:31:50 |
| 2013-09-09 04:28:01 | 2013-09-15 16:02:01 |
| 2017-07-19 07:57:49 | 2017-08-13 04:10:49 |
| 2019-11-20 01:50:01 | 2019-12-11 12:14:01 |
| 2013-07-28 00:46:36 | 2013-08-01 21:29:36 |
| 2013-04-06 01:50:37 | 2013-04-21 15:32:37 |
| 2011-09-15 11:01:29 | 2011-09-23 04:02:29 |
| 2012-10-14 09:02:03 | 2012-11-02 23:41:03 |
| 2018-11-01 14:22:33 | 2018-11-20 23:15:33 |
| 2018-01-12 13:17:36 | 2018-01-22 19:07:36 |
| 2011-03-19 14:54:23 | 2011-04-09 12:06:23 |
| 2016-11-25 20:29:08 | 2016-12-13 23:41:08 |
| 2014-10-29 05:09:58 | 2014-10-29 10:50:58 |
| 2018-12-08 11:54:56 | 2018-12-10 20:04:56 |
| 2019-10-10 00:38:17 | 2019-10-21 00:26:17 |
| 2011-05-04 19:53:42 | 2011-05-24 23:45:42 |
| 2017-10-23 11:48:15 | 2017-11-04 18:24:15 |
| 2016-01-28 05:07:51 | 2016-01-29 02:33:51 |
| 2011-05-15 23:49:58 | 2011-06-08 04:29:58 |
| 2014-11-23 06:04:06 | 2014-11-25 10:29:06 |
| 2011-02-08 20:57:16 | 2011-03-05 13:03:16 |
| 2011-02-12 09:49:44 | 2011-02-18 02:25:44 |
| 2019-07-30 12:50:35 | 2019-08-09 12:52:35 |
| 2014-06-12 06:59:39 | 2014-06-17 10:40:39 |
| 2018-10-24 13:56:42 | 2018-11-17 02:56:42 |
| 2015-06-06 14:02:39 | 2015-06-25 12:01:39 |
| 2015-12-05 03:24:27 | 2015-12-29 02:20:27 |
| 2011-03-13 08:23:03 | 2011-03-20 19:46:03 |
| 2011-10-20 00:08:41 | 2011-11-10 01:34:41 |
| 2012-12-17 20:11:56 | 2013-01-14 03:53:56 |
| 2015-07-02 04:36:20 | 2015-07-20 01:28:20 |
| 2011-09-16 03:28:29 | 2011-09-23 12:45:29 |
| 2016-01-08 04:55:21 | 2016-01-19 07:23:21 |
| 2010-07-13 11:07:16 | 2010-07-19 00:58:16 |
| 2015-07-22 06:23:03 | 2015-08-13 14:54:03 |
| 2010-12-18 23:44:57 | 2010-12-30 16:45:57 |
| 2015-02-24 15:41:31 | 2015-03-15 21:55:31 |
| 2011-09-25 03:00:37 | 2011-09-30 17:48:37 |
+---------------------+---------------------+
100 rows in set (0,00 sec)

mysql> update users set created_at=now(), updated_at=now();
Query OK, 100 rows affected (0,02 sec)
Rows matched: 100  Changed: 100  Warnings: 0

mysql> select * from users;
+-----+-------------+---------------+--------------------------------+-----------------+---------------------+---------------------+
| id  | first_name  | last_name     | email                          | phone           | created_at          | updated_at          |
+-----+-------------+---------------+--------------------------------+-----------------+---------------------+---------------------+
|   1 | Simone      | Beahan        | daija95@example.net            | 8-790-974-59-87 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|   2 | Toney       | Halvorson     | madalyn19@example.com          | 8-718-837-13-75 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|   3 | Annamarie   | Johns         | karina.mraz@example.org        | 8-585-556-91-16 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|   4 | Katlyn      | Ritchie       | kautzer.carmine@example.org    | 8-637-799-18-22 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|   5 | Beaulah     | Bernier       | addison.eichmann@example.com   | 8-455-614-69-67 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|   6 | Dustin      | Little        | morgan93@example.com           | 8-313-307-49-56 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|   7 | Julien      | Beier         | khagenes@example.com           | 8-375-954-84-37 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|   8 | Ebony       | Pollich       | blesch@example.org             | 8-152-421-64-97 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|   9 | Maryjane    | Koss          | vivien.vonrueden@example.org   | 8-193-599-51-68 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  10 | Cordie      | Raynor        | jorge95@example.org            | 8-924-634-29-39 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  11 | Drew        | Runolfsdottir | mason70@example.org            | 8-977-905-58-15 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  12 | Gabrielle   | Swift         | felicity36@example.org         | 8-696-214-67-86 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  13 | Beau        | Spencer       | sierra20@example.com           | 8-408-227-70-97 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  14 | Kristy      | Reichel       | cortez10@example.net           | 8-866-391-15-41 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  15 | Unique      | Willms        | o'connell.felipe@example.com   | 8-627-876-59-27 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  16 | Zoie        | Hayes         | uwuckert@example.com           | 8-358-875-50-70 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  17 | Marion      | Legros        | xschiller@example.com          | 8-126-201-52-14 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  18 | Rose        | Pollich       | kub.clinton@example.net        | 8-832-929-25-18 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  19 | Meghan      | Hyatt         | shields.aurelia@example.org    | 8-947-493-42-53 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  20 | Samara      | Carter        | aric.krajcik@example.com       | 8-424-407-65-19 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  21 | Carissa     | Heller        | stanley.beahan@example.com     | 8-668-869-44-40 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  22 | Adrian      | Fay           | fletcher50@example.org         | 8-618-863-55-12 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  23 | Jean        | Ryan          | rblick@example.net             | 8-617-825-37-20 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  24 | Vladimir    | Dibbert       | hmosciski@example.net          | 8-711-135-23-67 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  25 | Emelie      | Ferry         | kris65@example.org             | 8-808-991-62-98 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  26 | Dahlia      | Anderson      | ozulauf@example.com            | 8-259-922-13-50 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  27 | Annamae     | Rosenbaum     | drake.hamill@example.com       | 8-261-565-14-72 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  28 | Howard      | Harvey        | cbernhard@example.com          | 8-407-650-13-41 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  29 | Sydnee      | Wunsch        | tmccullough@example.net        | 8-686-279-13-64 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  30 | Elmo        | Marquardt     | haleigh77@example.org          | 8-960-939-80-25 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  31 | Alexzander  | Gottlieb      | jeffrey.effertz@example.net    | 8-539-927-21-90 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  32 | Aurore      | Abernathy     | eledner@example.net            | 8-225-977-50-42 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  33 | Devan       | McClure       | ykozey@example.org             | 8-502-229-43-50 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  34 | Catalina    | Bogisich      | gerson73@example.org           | 8-226-404-34-41 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  35 | Paris       | Lebsack       | rkutch@example.com             | 8-958-736-70-32 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  36 | Mariano     | Spencer       | nicole.o'connell@example.net   | 8-312-481-46-80 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  37 | Kiley       | Rohan         | birdie.rippin@example.org      | 8-745-293-92-95 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  38 | Dedrick     | O'Reilly      | wilma.schuppe@example.com      | 8-146-430-70-37 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  39 | Aubrey      | Klein         | fay.laisha@example.org         | 8-536-557-18-92 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  40 | Jonathon    | Stoltenberg   | uterry@example.com             | 8-405-937-66-45 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  41 | Sister      | Pacocha       | jonathan34@example.net         | 8-169-269-73-98 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  42 | Maximus     | Koepp         | ashton44@example.net           | 8-866-340-79-19 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  43 | Catalina    | Wilkinson     | wwilliamson@example.org        | 8-249-570-20-13 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  44 | Baby        | Hamill        | clarissa.kirlin@example.net    | 8-837-991-54-55 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  45 | Jody        | Reilly        | kuhic.christelle@example.com   | 8-170-861-10-51 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  46 | Ryan        | Braun         | giles.pfannerstill@example.com | 8-377-240-86-82 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  47 | Enola       | Monahan       | djerde@example.com             | 8-544-130-71-40 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  48 | Rosa        | Hoeger        | carmine34@example.org          | 8-671-240-88-91 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  49 | Alda        | Donnelly      | jrobel@example.org             | 8-949-979-15-41 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  50 | Michele     | Schimmel      | will.noelia@example.net        | 8-651-991-20-64 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  51 | Brycen      | Howe          | obogan@example.org             | 8-745-771-61-68 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  52 | Eliseo      | Hagenes       | phamill@example.com            | 8-585-761-14-16 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  53 | Maximillian | Keeling       | zhilll@example.net             | 8-271-763-20-44 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  54 | Preston     | Bayer         | lina44@example.com             | 8-624-773-98-75 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  55 | Aron        | Gorczany      | schuppe.belle@example.org      | 8-701-237-77-39 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  56 | Amara       | Stiedemann    | hane.isadore@example.com       | 8-430-868-25-35 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  57 | Holly       | Bailey        | heaven72@example.net           | 8-940-825-30-75 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  58 | Wiley       | Ullrich       | precious.kirlin@example.net    | 8-967-665-32-43 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  59 | Cody        | O'Hara        | omarquardt@example.com         | 8-218-571-29-59 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  60 | Levi        | Boehm         | oprice@example.com             | 8-172-772-54-33 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  61 | Kirstin     | Gislason      | jkub@example.org               | 8-832-351-95-94 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  62 | Johnathan   | Kihn          | zosinski@example.net           | 8-871-505-70-15 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  63 | William     | Turcotte      | austyn.waters@example.net      | 8-322-152-58-61 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  64 | Maci        | Murphy        | stan.donnelly@example.net      | 8-311-501-56-34 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  65 | Jonathan    | Ritchie       | hartmann.joshua@example.net    | 8-846-381-16-47 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  66 | Laisha      | Stanton       | vrunte@example.org             | 8-905-289-42-28 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  67 | Narciso     | Heller        | tony.torp@example.com          | 8-958-221-82-68 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  68 | Trinity     | Zulauf        | jrice@example.net              | 8-877-405-19-55 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  69 | Rasheed     | Pagac         | o'reilly.tremaine@example.org  | 8-310-675-54-60 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  70 | Claudie     | Larson        | francisco61@example.com        | 8-402-987-92-69 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  71 | Aglae       | Emard         | justina21@example.com          | 8-595-783-23-51 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  72 | Crawford    | Homenick      | wrice@example.com              | 8-878-946-20-75 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  73 | Chance      | Littel        | chelsie.bartoletti@example.net | 8-410-562-58-23 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  74 | Teagan      | Botsford      | nblick@example.org             | 8-236-365-12-30 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  75 | Constantin  | Ryan          | desmond.stark@example.org      | 8-164-706-24-78 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  76 | Maximilian  | Bosco         | dstark@example.net             | 8-430-578-59-27 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  77 | Danielle    | Kerluke       | tre23@example.net              | 8-367-913-66-48 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  78 | Imogene     | Breitenberg   | connie83@example.net           | 8-361-231-86-85 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  79 | Sheldon     | Leannon       | kunze.marlon@example.com       | 8-719-895-41-22 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  80 | Eve         | Hand          | mbartell@example.net           | 8-658-716-60-78 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  81 | Lucio       | Bauch         | uriah98@example.net            | 8-218-428-48-15 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  82 | Serena      | Cormier       | gerlach.josh@example.com       | 8-114-903-47-47 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  83 | Matilda     | Watsica       | sanford.ervin@example.org      | 8-843-892-92-98 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  84 | Kristian    | Deckow        | ydaniel@example.net            | 8-266-947-24-97 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  85 | Cade        | D'Amore       | jamir08@example.org            | 8-475-231-52-94 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  86 | Deanna      | Reinger       | felicita95@example.net         | 8-367-686-42-89 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  87 | Rodrick     | Ortiz         | burdette28@example.net         | 8-407-135-25-76 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  88 | Hassan      | Lind          | romaine13@example.org          | 8-272-761-19-36 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  89 | Jonathon    | Price         | janet09@example.net            | 8-279-186-88-19 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  90 | Raquel      | Morissette    | princess48@example.org         | 8-920-309-47-48 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  91 | Roberto     | Kulas         | joanne.cruickshank@example.org | 8-873-118-56-58 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  92 | Anya        | Russel        | hfadel@example.org             | 8-224-164-94-54 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  93 | Bette       | Boehm         | sierra.adams@example.net       | 8-720-942-64-34 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  94 | Alize       | Eichmann      | ozemlak@example.org            | 8-561-770-27-74 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  95 | Lilliana    | Powlowski     | walsh.diego@example.net        | 8-135-126-12-13 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  96 | Mariana     | Thompson      | lakin.selina@example.org       | 8-226-615-49-53 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  97 | Jerel       | Christiansen  | abshire.stewart@example.net    | 8-208-222-38-27 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  98 | Waylon      | Lakin         | garth.roberts@example.org      | 8-100-482-21-41 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
|  99 | Chet        | Hills         | paula05@example.org            | 8-448-888-29-52 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
| 100 | Justice     | Jast          | langosh.gerard@example.com     | 8-767-339-19-74 | 2020-04-05 15:56:52 | 2020-04-05 15:56:52 |
+-----+-------------+---------------+--------------------------------+-----------------+---------------------+---------------------+
100 rows in set (0,00 sec)

mysql>

2. Таблица users была неудачно спроектирована. Записи created_at и updated_at были заданы типом VARCHAR и в них долгое время
помещались значения в формате "20.10.2017 8:10". Необходимо преобразовать поля к типу DATETIME, сохранив введеные ранее значения.

mysql> alter table users modify created_at varchar(50);
Query OK, 100 rows affected (0,06 sec)
Records: 100  Duplicates: 0  Warnings: 0

mysql> desc users;
+------------+--------------+------+-----+-------------------+-----------------------------------------------+
| Field      | Type         | Null | Key | Default           | Extra                                         |
+------------+--------------+------+-----+-------------------+-----------------------------------------------+
| id         | int unsigned | NO   | PRI | NULL              | auto_increment                                |
| first_name | varchar(100) | NO   |     | NULL              |                                               |
| last_name  | varchar(100) | NO   |     | NULL              |                                               |
| email      | varchar(120) | NO   | UNI | NULL              |                                               |
| phone      | varchar(120) | NO   | UNI | NULL              |                                               |
| created_at | varchar(50)  | YES  |     | NULL              |                                               |
| updated_at | datetime     | YES  |     | CURRENT_TIMESTAMP | DEFAULT_GENERATED on update CURRENT_TIMESTAMP |
+------------+--------------+------+-----+-------------------+-----------------------------------------------+
7 rows in set (0,01 sec)

mysql> alter table users modify updated_at varchar(50);
Query OK, 100 rows affected (0,03 sec)
Records: 100  Duplicates: 0  Warnings: 0

mysql> desc users;
+------------+--------------+------+-----+---------+----------------+
| Field      | Type         | Null | Key | Default | Extra          |
+------------+--------------+------+-----+---------+----------------+
| id         | int unsigned | NO   | PRI | NULL    | auto_increment |
| first_name | varchar(100) | NO   |     | NULL    |                |
| last_name  | varchar(100) | NO   |     | NULL    |                |
| email      | varchar(120) | NO   | UNI | NULL    |                |
| phone      | varchar(120) | NO   | UNI | NULL    |                |
| created_at | varchar(50)  | YES  |     | NULL    |                |
| updated_at | varchar(50)  | YES  |     | NULL    |                |
+------------+--------------+------+-----+---------+----------------+
7 rows in set (0,01 sec)

mysql>  select created_at, updated_at from users limit 10;
+------------+---------------------+
| created_at | updated_at          |
+------------+---------------------+
| NULL       | 2020-04-05 16:20:21 |
| NULL       | 2020-04-05 16:20:21 |
| NULL       | 2020-04-05 16:20:21 |
| NULL       | 2020-04-05 16:20:21 |
| NULL       | 2020-04-05 16:20:21 |
| NULL       | 2020-04-05 16:20:21 |
| NULL       | 2020-04-05 16:20:21 |
| NULL       | 2020-04-05 16:20:21 |
| NULL       | 2020-04-05 16:20:21 |
| NULL       | 2020-04-05 16:20:21 |
+------------+---------------------+
10 rows in set (0,00 sec)

mysql> update users set created_at="20.10.2017 8:10";
Query OK, 100 rows affected (0,02 sec)
Rows matched: 100  Changed: 100  Warnings: 0

mysql>  select created_at, updated_at from users limit 10;
+-----------------+---------------------+
| created_at      | updated_at          |
+-----------------+---------------------+
| 20.10.2017 8:10 | 2020-04-05 16:20:21 |
| 20.10.2017 8:10 | 2020-04-05 16:20:21 |
| 20.10.2017 8:10 | 2020-04-05 16:20:21 |
| 20.10.2017 8:10 | 2020-04-05 16:20:21 |
| 20.10.2017 8:10 | 2020-04-05 16:20:21 |
| 20.10.2017 8:10 | 2020-04-05 16:20:21 |
| 20.10.2017 8:10 | 2020-04-05 16:20:21 |
| 20.10.2017 8:10 | 2020-04-05 16:20:21 |
| 20.10.2017 8:10 | 2020-04-05 16:20:21 |
| 20.10.2017 8:10 | 2020-04-05 16:20:21 |
+-----------------+---------------------+
10 rows in set (0,00 sec)

mysql>
mysql> desc users;
+------------+--------------+------+-----+---------+----------------+
| Field      | Type         | Null | Key | Default | Extra          |
+------------+--------------+------+-----+---------+----------------+
| id         | int unsigned | NO   | PRI | NULL    | auto_increment |
| first_name | varchar(100) | NO   |     | NULL    |                |
| last_name  | varchar(100) | NO   |     | NULL    |                |
| email      | varchar(120) | NO   | UNI | NULL    |                |
| phone      | varchar(120) | NO   | UNI | NULL    |                |
| created_at | varchar(50)  | YES  |     | NULL    |                |
| updated_at | varchar(50)  | YES  |     | NULL    |                |
+------------+--------------+------+-----+---------+----------------+
7 rows in set (0,00 sec)

mysql> alter table users add column _time DATETIME;
Query OK, 0 rows affected (0,02 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> select * from users limit 5
    -> ;
+----+------------+-----------+------------------------------+-----------------+-----------------+---------------------+-------+
| id | first_name | last_name | email                        | phone           | created_at      | updated_at          | _time |
+----+------------+-----------+------------------------------+-----------------+-----------------+---------------------+-------+
|  1 | Simone     | Beahan    | daija95@example.net          | 8-790-974-59-87 | 20.10.2017 8:10 | 2020-04-05 16:20:21 | NULL  |
|  2 | Toney      | Halvorson | madalyn19@example.com        | 8-718-837-13-75 | 20.10.2017 8:10 | 2020-04-05 16:20:21 | NULL  |
|  3 | Annamarie  | Johns     | karina.mraz@example.org      | 8-585-556-91-16 | 20.10.2017 8:10 | 2020-04-05 16:20:21 | NULL  |
|  4 | Katlyn     | Ritchie   | kautzer.carmine@example.org  | 8-637-799-18-22 | 20.10.2017 8:10 | 2020-04-05 16:20:21 | NULL  |
|  5 | Beaulah    | Bernier   | addison.eichmann@example.com | 8-455-614-69-67 | 20.10.2017 8:10 | 2020-04-05 16:20:21 | NULL  |
+----+------------+-----------+------------------------------+-----------------+-----------------+---------------------+-------+
5 rows in set (0,00 sec)
mysql> select STR_TO_DATE('20.10.2017 8:10','%d.%m.%Y %H:%i');
+-------------------------------------------------+
| STR_TO_DATE('20.10.2017 8:10','%d.%m.%Y %H:%i') |
+-------------------------------------------------+
| 2017-10-20 08:10:00                             |
+-------------------------------------------------+
1 row in set (0,00 sec)

mysql> select STR_TO_DATE(created_at,'%d.%m.%Y %H:%i') from users limit 5;
+------------------------------------------+
| STR_TO_DATE(created_at,'%d.%m.%Y %H:%i') |
+------------------------------------------+
| 2017-10-20 08:10:00                      |
| 2017-10-20 08:10:00                      |
| 2017-10-20 08:10:00                      |
| 2017-10-20 08:10:00                      |
| 2017-10-20 08:10:00                      |
+------------------------------------------+
5 rows in set (0,00 sec)

mysql> update users set _time= STR_TO_DATE(created_at,'%d.%m.%Y %H:%i');
Query OK, 100 rows affected (0,01 sec)
Rows matched: 100  Changed: 100  Warnings: 0
mysql> select * from users limit 5
    -> ;
+----+------------+-----------+------------------------------+-----------------+-----------------+---------------------+---------------------+
| id | first_name | last_name | email                        | phone           | created_at      | updated_at          | _time               |
+----+------------+-----------+------------------------------+-----------------+-----------------+---------------------+---------------------+
|  1 | Simone     | Beahan    | daija95@example.net          | 8-790-974-59-87 | 20.10.2017 8:10 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 |
|  2 | Toney      | Halvorson | madalyn19@example.com        | 8-718-837-13-75 | 20.10.2017 8:10 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 |
|  3 | Annamarie  | Johns     | karina.mraz@example.org      | 8-585-556-91-16 | 20.10.2017 8:10 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 |
|  4 | Katlyn     | Ritchie   | kautzer.carmine@example.org  | 8-637-799-18-22 | 20.10.2017 8:10 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 |
|  5 | Beaulah    | Bernier   | addison.eichmann@example.com | 8-455-614-69-67 | 20.10.2017 8:10 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 |
+----+------------+-----------+------------------------------+-----------------+-----------------+---------------------+---------------------+
5 rows in set (0,00 sec)

mysql> desc users;
+------------+--------------+------+-----+---------+----------------+
| Field      | Type         | Null | Key | Default | Extra          |
+------------+--------------+------+-----+---------+----------------+
| id         | int unsigned | NO   | PRI | NULL    | auto_increment |
| first_name | varchar(100) | NO   |     | NULL    |                |
| last_name  | varchar(100) | NO   |     | NULL    |                |
| email      | varchar(120) | NO   | UNI | NULL    |                |
| phone      | varchar(120) | NO   | UNI | NULL    |                |
| created_at | varchar(50)  | YES  |     | NULL    |                |
| updated_at | varchar(50)  | YES  |     | NULL    |                |
| _time      | datetime     | YES  |     | NULL    |                |
+------------+--------------+------+-----+---------+----------------+
8 rows in set (0,00 sec)

mysql>
mysql> alter table users drop created_at;
Query OK, 0 rows affected (0,16 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> desc users;
+------------+--------------+------+-----+---------+----------------+
| Field      | Type         | Null | Key | Default | Extra          |
+------------+--------------+------+-----+---------+----------------+
| id         | int unsigned | NO   | PRI | NULL    | auto_increment |
| first_name | varchar(100) | NO   |     | NULL    |                |
| last_name  | varchar(100) | NO   |     | NULL    |                |
| email      | varchar(120) | NO   | UNI | NULL    |                |
| phone      | varchar(120) | NO   | UNI | NULL    |                |
| updated_at | varchar(50)  | YES  |     | NULL    |                |
| _time      | datetime     | YES  |     | NULL    |                |
+------------+--------------+------+-----+---------+----------------+
7 rows in set (0,00 sec)

mysql> alter table users rename column _time to created_at;
Query OK, 0 rows affected (0,02 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> desc users;
+------------+--------------+------+-----+---------+----------------+
| Field      | Type         | Null | Key | Default | Extra          |
+------------+--------------+------+-----+---------+----------------+
| id         | int unsigned | NO   | PRI | NULL    | auto_increment |
| first_name | varchar(100) | NO   |     | NULL    |                |
| last_name  | varchar(100) | NO   |     | NULL    |                |
| email      | varchar(120) | NO   | UNI | NULL    |                |
| phone      | varchar(120) | NO   | UNI | NULL    |                |
| updated_at | varchar(50)  | YES  |     | NULL    |                |
| created_at | datetime     | YES  |     | NULL    |                |
+------------+--------------+------+-----+---------+----------------+
7 rows in set (0,00 sec)

mysql> select * from users limit 10;
+----+------------+-----------+------------------------------+-----------------+---------------------+---------------------+
| id | first_name | last_name | email                        | phone           | updated_at          | created_at          |
+----+------------+-----------+------------------------------+-----------------+---------------------+---------------------+
|  1 | Simone     | Beahan    | daija95@example.net          | 8-790-974-59-87 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 |
|  2 | Toney      | Halvorson | madalyn19@example.com        | 8-718-837-13-75 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 |
|  3 | Annamarie  | Johns     | karina.mraz@example.org      | 8-585-556-91-16 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 |
|  4 | Katlyn     | Ritchie   | kautzer.carmine@example.org  | 8-637-799-18-22 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 |
|  5 | Beaulah    | Bernier   | addison.eichmann@example.com | 8-455-614-69-67 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 |
|  6 | Dustin     | Little    | morgan93@example.com         | 8-313-307-49-56 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 |
|  7 | Julien     | Beier     | khagenes@example.com         | 8-375-954-84-37 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 |
|  8 | Ebony      | Pollich   | blesch@example.org           | 8-152-421-64-97 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 |
|  9 | Maryjane   | Koss      | vivien.vonrueden@example.org | 8-193-599-51-68 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 |
| 10 | Cordie     | Raynor    | jorge95@example.org          | 8-924-634-29-39 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 |
+----+------------+-----------+------------------------------+-----------------+---------------------+---------------------+
10 rows in set (0,00 sec)

mysql>

mysql> alter table users add column _time DATETIME;
Query OK, 0 rows affected (0,02 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> select _time from users limit 10;
+-------+
| _time |
+-------+
| NULL  |
| NULL  |
| NULL  |
| NULL  |
| NULL  |
| NULL  |
| NULL  |
| NULL  |
| NULL  |
| NULL  |
+-------+
10 rows in set (0,00 sec)


mysql> UPDATE users SET _time=updated_at;
Query OK, 100 rows affected (0,01 sec)
Rows matched: 100  Changed: 100  Warnings: 0

mysql> select _time from users limit 10;
+---------------------+
| _time               |
+---------------------+
| 2020-04-05 16:20:21 |
| 2020-04-05 16:20:21 |
| 2020-04-05 16:20:21 |
| 2020-04-05 16:20:21 |
| 2020-04-05 16:20:21 |
| 2020-04-05 16:20:21 |
| 2020-04-05 16:20:21 |
| 2020-04-05 16:20:21 |
| 2020-04-05 16:20:21 |
| 2020-04-05 16:20:21 |
+---------------------+
10 rows in set (0,00 sec)

mysql> select * from users limit 10;
+----+------------+-----------+------------------------------+-----------------+---------------------+---------------------+---------------------+
| id | first_name | last_name | email                        | phone           | updated_at          | created_at          | _time               |
+----+------------+-----------+------------------------------+-----------------+---------------------+---------------------+---------------------+
|  1 | Simone     | Beahan    | daija95@example.net          | 8-790-974-59-87 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 | 2020-04-05 16:20:21 |
|  2 | Toney      | Halvorson | madalyn19@example.com        | 8-718-837-13-75 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 | 2020-04-05 16:20:21 |
|  3 | Annamarie  | Johns     | karina.mraz@example.org      | 8-585-556-91-16 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 | 2020-04-05 16:20:21 |
|  4 | Katlyn     | Ritchie   | kautzer.carmine@example.org  | 8-637-799-18-22 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 | 2020-04-05 16:20:21 |
|  5 | Beaulah    | Bernier   | addison.eichmann@example.com | 8-455-614-69-67 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 | 2020-04-05 16:20:21 |
|  6 | Dustin     | Little    | morgan93@example.com         | 8-313-307-49-56 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 | 2020-04-05 16:20:21 |
|  7 | Julien     | Beier     | khagenes@example.com         | 8-375-954-84-37 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 | 2020-04-05 16:20:21 |
|  8 | Ebony      | Pollich   | blesch@example.org           | 8-152-421-64-97 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 | 2020-04-05 16:20:21 |
|  9 | Maryjane   | Koss      | vivien.vonrueden@example.org | 8-193-599-51-68 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 | 2020-04-05 16:20:21 |
| 10 | Cordie     | Raynor    | jorge95@example.org          | 8-924-634-29-39 | 2020-04-05 16:20:21 | 2017-10-20 08:10:00 | 2020-04-05 16:20:21 |
+----+------------+-----------+------------------------------+-----------------+---------------------+---------------------+---------------------+
10 rows in set (0,00 sec)

mysql>
mysql> alter table users rename column _time to updated_at;
Query OK, 0 rows affected (0,02 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> select * from users limit 10;
+----+------------+-----------+------------------------------+-----------------+---------------------+---------------------+
| id | first_name | last_name | email                        | phone           | created_at          | updated_at          |
+----+------------+-----------+------------------------------+-----------------+---------------------+---------------------+
|  1 | Simone     | Beahan    | daija95@example.net          | 8-790-974-59-87 | 2017-10-20 08:10:00 | 2020-04-05 16:20:21 |
|  2 | Toney      | Halvorson | madalyn19@example.com        | 8-718-837-13-75 | 2017-10-20 08:10:00 | 2020-04-05 16:20:21 |
|  3 | Annamarie  | Johns     | karina.mraz@example.org      | 8-585-556-91-16 | 2017-10-20 08:10:00 | 2020-04-05 16:20:21 |
|  4 | Katlyn     | Ritchie   | kautzer.carmine@example.org  | 8-637-799-18-22 | 2017-10-20 08:10:00 | 2020-04-05 16:20:21 |
|  5 | Beaulah    | Bernier   | addison.eichmann@example.com | 8-455-614-69-67 | 2017-10-20 08:10:00 | 2020-04-05 16:20:21 |
|  6 | Dustin     | Little    | morgan93@example.com         | 8-313-307-49-56 | 2017-10-20 08:10:00 | 2020-04-05 16:20:21 |
|  7 | Julien     | Beier     | khagenes@example.com         | 8-375-954-84-37 | 2017-10-20 08:10:00 | 2020-04-05 16:20:21 |
|  8 | Ebony      | Pollich   | blesch@example.org           | 8-152-421-64-97 | 2017-10-20 08:10:00 | 2020-04-05 16:20:21 |
|  9 | Maryjane   | Koss      | vivien.vonrueden@example.org | 8-193-599-51-68 | 2017-10-20 08:10:00 | 2020-04-05 16:20:21 |
| 10 | Cordie     | Raynor    | jorge95@example.org          | 8-924-634-29-39 | 2017-10-20 08:10:00 | 2020-04-05 16:20:21 |
+----+------------+-----------+------------------------------+-----------------+---------------------+---------------------+
10 rows in set (0,00 sec)

mysql> desc users;
+------------+--------------+------+-----+---------+----------------+
| Field      | Type         | Null | Key | Default | Extra          |
+------------+--------------+------+-----+---------+----------------+
| id         | int unsigned | NO   | PRI | NULL    | auto_increment |
| first_name | varchar(100) | NO   |     | NULL    |                |
| last_name  | varchar(100) | NO   |     | NULL    |                |
| email      | varchar(120) | NO   | UNI | NULL    |                |
| phone      | varchar(120) | NO   | UNI | NULL    |                |
| created_at | datetime     | YES  |     | NULL    |                |
| updated_at | datetime     | YES  |     | NULL    |                |
+------------+--------------+------+-----+---------+----------------+
7 rows in set (0,00 sec)

3. В таблице складских запасов storehouses_products в поле value могут встречаться самые разные цифры: 0,
если товар закончился и выше нуля, если на складе имеются запасы. Необходимо отсортировать записи таким образом,
чтобы они выводились в порядке увеличения значения value. Однако, нулевые запасы должны выводиться в конце,
после всех записей.
mysql> create table items (
    -> id INT UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
    -> value INT UNSIGNED NOT NULL);
Query OK, 0 rows affected (0,01 sec)

mysql> desc items;
+-------+--------------+------+-----+---------+----------------+
| Field | Type         | Null | Key | Default | Extra          |
+-------+--------------+------+-----+---------+----------------+
| id    | int unsigned | NO   | PRI | NULL    | auto_increment |
| value | int unsigned | NO   |     | NULL    |                |
+-------+--------------+------+-----+---------+----------------+
2 rows in set (0,01 sec)

mysql> INSERT INTO items (value) VALUES (0), (2500), (0), (30), (500), (1);
Query OK, 6 rows affected (0,01 sec)
Records: 6  Duplicates: 0  Warnings: 0

mysql> select * from items;
+----+-------+
| id | value |
+----+-------+
|  1 |     0 |
|  2 |  2500 |
|  3 |     0 |
|  4 |    30 |
|  5 |   500 |
|  6 |     1 |
+----+-------+
6 rows in set (0,00 sec)

mysql> select max(value)+1 from items;
+--------------+
| max(value)+1 |
+--------------+
|         2501 |
+--------------+
1 row in set (0,01 sec)

mysql> select value from items order by CASE WHEN value=0 then select max(value)+1 END, value;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'select max(value)+1 END, value' at line 1
mysql> select value from items order by CASE WHEN value=0 then select max(value)+1 from items END, value;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'select max(value)+1 from items END, value' at line 1
mysql> select value from items order by CASE WHEN value=0 then (select max(value)+1 from items) END, value;
+-------+
| value |
+-------+
|     1 |
|    30 |
|   500 |
|  2500 |
|     0 |
|     0 |
+-------+
6 rows in set (0,00 sec)

4. (по желанию) Из таблицы users необходимо извлечь пользователей, родившихся в августе и мае. Месяцы заданы в
виде списка английских названий ('may', 'august').


mysql> create table user_2 ( id INT UNSIGNED PRIMARY KEY AUTO_INCREMENT, birthday VARCHAR(10) NOT NULL);
Query OK, 0 rows affected (0,01 sec)

mysql> desc user_2
    -> ;
+----------+--------------+------+-----+---------+----------------+
| Field    | Type         | Null | Key | Default | Extra          |
+----------+--------------+------+-----+---------+----------------+
| id       | int unsigned | NO   | PRI | NULL    | auto_increment |
| birthday | varchar(10)  | NO   |     | NULL    |                |
+----------+--------------+------+-----+---------+----------------+
2 rows in set (0,00 sec)

mysql> insert into user_2 (birthday) VALUES ('January'), ('February'), ('March'), ('April'), ('May'), ('June'), ('July'), ('August'), ('September'), ('October'), ('November'), ('December');
Query OK, 12 rows affected (0,00 sec)
Records: 12  Duplicates: 0  Warnings: 0

mysql> select * from user_2;
+----+-----------+
| id | birthday  |
+----+-----------+
|  1 | January   |
|  2 | February  |
|  3 | March     |
|  4 | April     |
|  5 | May       |
|  6 | June      |
|  7 | July      |
|  8 | August    |
|  9 | September |
| 10 | October   |
| 11 | November  |
| 12 | December  |
+----+-----------+
12 rows in set (0,00 sec)

mysql> select id AS USER_ID from user_2 where birthday='May' OR birthday='August';
+---------+
| USER_ID |
+---------+
|       5 |
|       8 |
+---------+
2 rows in set (0,00 sec)

mysql>mysql> update user_2 set birthday='August' where id=10;
Query OK, 1 row affected (0,01 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> select * from user_2
    -> ;
+----+-----------+
| id | birthday  |
+----+-----------+
|  1 | January   |
|  2 | February  |
|  3 | March     |
|  4 | April     |
|  5 | May       |
|  6 | June      |
|  7 | July      |
|  8 | August    |
|  9 | September |
| 10 | August    |
| 11 | November  |
| 12 | December  |
+----+-----------+
12 rows in set (0,00 sec)

mysql> select id AS USER_ID from user_2 where birthday='May' OR birthday='August';
+---------+
| USER_ID |
+---------+
|       5 |
|       8 |
|      10 |
+---------+
3 rows in set (0,00 sec)

5. (по желанию) Из таблицы catalogs извлекаются записи при помощи запроса. SELECT * FROM catalogs WHERE id IN (5, 1, 2);
Отсортируйте записи в порядке, заданном в списке IN.

mysql> select * from catalogs;
+----+-------------------------------------+
| id | name                                |
+----+-------------------------------------+
|  1 | Процессоры                          |
|  2 | Материнские платы                   |
|  3 | Видеокарты                          |
|  4 | Жесткие диски                       |
|  5 | Оперативная память                  |
+----+-------------------------------------+
5 rows in set (0,00 sec)

mysql>



mysql> select * from catalogs WHERE id IN (5, 1, 2) ORDER BY FIELD(id, 5, 1, 2);
+----+-------------------------------------+
| id | name                                |
+----+-------------------------------------+
|  5 | Оперативная память                  |
|  1 | Процессоры                          |
|  2 | Материнские платы                   |
+----+-------------------------------------+
3 rows in set (0,00 sec)

mysql>

АГРЕГАЦИЯ ДАННЫХ
1. Подсчитайте средний возраст пользователей в таблице users
mysql> select * from profiles limit 10;
+---------+--------+------------+--------------------+-----------------------------+----------+---------------------+---------------------+
| user_id | gender | birthday   | city               | country                     | photo_id | created_at          | updated_at          |
+---------+--------+------------+--------------------+-----------------------------+----------+---------------------+---------------------+
|       1 | f      | 2011-05-19 | Port Shemarstad    | Falkland Islands (Malvinas) |        1 | 2010-11-09 17:22:15 | 2010-11-22 15:42:15 |
|       2 | f      | 1971-04-10 | Port Kiarabury     | Sri Lanka                   |        2 | 2011-03-10 19:36:02 | 2011-03-11 11:43:02 |
|       3 | m      | 1999-03-01 | North Maida        | Uganda                      |        3 | 2011-01-23 19:50:19 | 2011-01-30 01:26:19 |
|       4 | f      | 2014-03-25 | South Shayna       | Mayotte                     |        4 | 2011-11-14 04:56:36 | 2011-11-15 13:54:36 |
|       5 | f      | 1997-08-27 | Dejonland          | Jordan                      |        5 | 2019-11-13 23:46:41 | 2019-11-16 01:08:41 |
|       6 | m      | 2002-08-03 | New Rosie          | Zambia                      |        6 | 2013-11-15 15:25:48 | 2013-11-21 19:24:48 |
|       7 | m      | 1982-11-14 | Volkmanview        | Kazakhstan                  |        7 | 2018-08-15 22:11:02 | 2018-08-26 16:42:02 |
|       8 | f      | 2001-12-27 | East Ciara         | Oman                        |        8 | 2011-05-11 01:50:59 | 2011-05-18 15:45:59 |
|       9 | m      | 1983-11-29 | East Gwendolynland | Nicaragua                   |        9 | 2010-05-18 17:53:55 | 2010-05-24 07:56:55 |
|      10 | f      | 1979-08-27 | South Rae          | Tuvalu                      |       10 | 2018-10-22 08:34:39 | 2018-10-27 13:03:39 |
+---------+--------+------------+--------------------+-----------------------------+----------+---------------------+---------------------+
10 rows in set (0,00 sec)

mysql> SELECT YEAR(birthday) FROM profiles limit 20 ORDER BY birthday;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ORDER BY birthday' at line 1
mysql> SELECT YEAR(birthday) FROM profiles ORDER BY birthday limit 20;
+----------------+
| YEAR(birthday) |
+----------------+
|           1970 |
|           1971 |
|           1971 |
|           1971 |
|           1972 |
|           1973 |
|           1974 |
|           1976 |
|           1977 |
|           1978 |
|           1979 |
|           1979 |
|           1979 |
|           1979 |
|           1979 |
|           1980 |
|           1981 |
|           1981 |
|           1982 |
|           1982 |
+----------------+
20 rows in set (0,01 sec)

mysql> SELECT DISTINCT YEAR(birthday) FROM profiles ORDER BY birthday limit 20;
ERROR 3065 (HY000): Expression #1 of ORDER BY clause is not in SELECT list, references column 'vk.profiles.birthday' which is not in SELECT list; this is incompatible with DISTINCT
mysql> SELECT YEAR(birthday), YEAR(now()) as "year" FROM profiles ORDER BY birthday limit 20;
+----------------+------+
| YEAR(birthday) | year |
+----------------+------+
|           1970 | 2020 |
|           1971 | 2020 |
|           1971 | 2020 |
|           1971 | 2020 |
|           1972 | 2020 |
|           1973 | 2020 |
|           1974 | 2020 |
|           1976 | 2020 |
|           1977 | 2020 |
|           1978 | 2020 |
|           1979 | 2020 |
|           1979 | 2020 |
|           1979 | 2020 |
|           1979 | 2020 |
|           1979 | 2020 |
|           1980 | 2020 |
|           1981 | 2020 |
|           1981 | 2020 |
|           1982 | 2020 |
|           1982 | 2020 |
+----------------+------+
20 rows in set (0,00 sec)

mysql> SELECT YEAR(birthday), YEAR(now()-YEAR(birthday)) as "year" FROM profiles ORDER BY birthday limit 20;
+----------------+------+
| YEAR(birthday) | year |
+----------------+------+
|           1970 | 2020 |
|           1971 | 2020 |
|           1971 | 2020 |
|           1971 | 2020 |
|           1972 | 2020 |
|           1973 | 2020 |
|           1974 | 2020 |
|           1976 | 2020 |
|           1977 | 2020 |
|           1978 | 2020 |
|           1979 | 2020 |
|           1979 | 2020 |
|           1979 | 2020 |
|           1979 | 2020 |
|           1979 | 2020 |
|           1980 | 2020 |
|           1981 | 2020 |
|           1981 | 2020 |
|           1982 | 2020 |
|           1982 | 2020 |
+----------------+------+
20 rows in set (0,00 sec)

mysql> SELECT YEAR(birthday), YEAR(now())- YEAR(birthday) as "year" FROM profiles ORDER BY birthday limit 20;
+----------------+------+
| YEAR(birthday) | year |
+----------------+------+
|           1970 |   50 |
|           1971 |   49 |
|           1971 |   49 |
|           1971 |   49 |
|           1972 |   48 |
|           1973 |   47 |
|           1974 |   46 |
|           1976 |   44 |
|           1977 |   43 |
|           1978 |   42 |
|           1979 |   41 |
|           1979 |   41 |
|           1979 |   41 |
|           1979 |   41 |
|           1979 |   41 |
|           1980 |   40 |
|           1981 |   39 |
|           1981 |   39 |
|           1982 |   38 |
|           1982 |   38 |
+----------------+------+
20 rows in set (0,00 sec)

---------------СРЕДНИЙ ВОЗРАСТ-----------------------------
mysql> SELECT ROUND(AVG(YEAR(now())- YEAR(birthday)),0) as "AVG" FROM profiles;
+------+
| AVG  |
+------+
|   22 |
+------+
1 row in set (0,00 sec)

----------ПРОВЕРКА----------------------------
mysql> SELECT SUM(YEAR(now())- YEAR(birthday)) as "SUM" FROM profiles;
+------+
| SUM  |
+------+
| 2217 |
+------+
1 row in set (0,00 sec)

mysql> SELECT count(*) as "COUNT" FROM profiles;
+-------+
| COUNT |
+-------+
|   100 |
+-------+
1 row in set (0,01 sec)
mysql> select 2217/100;
+----------+
| 2217/100 |
+----------+
|  22.1700 |
+----------+
1 row in set (0,00 sec)
mysql> select 2217 div 100;
+--------------+
| 2217 div 100 |
+--------------+
|           22 |
+--------------+
1 row in set (0,00 sec)

2. Подсчитайте количество дней рождения, которые приходятся на каждый из дней недели. Следует учесть, что
необходимы дни недели текущего года, а не года рождения.

mysql> select user_id, birthday from profiles;
+---------+------------+
| user_id | birthday   |
+---------+------------+
|       1 | 2011-05-19 |
|       2 | 1971-04-10 |
|       3 | 1999-03-01 |
|       4 | 2014-03-25 |
|       5 | 1997-08-27 |
|       6 | 2002-08-03 |
|       7 | 1982-11-14 |
|       8 | 2001-12-27 |
|       9 | 1983-11-29 |
|      10 | 1979-08-27 |
|      11 | 2017-03-25 |
|      12 | 1990-07-21 |
|      13 | 1989-05-25 |
|      14 | 1996-07-08 |
|      15 | 2015-06-08 |
|      16 | 1988-03-23 |
|      17 | 2013-04-13 |
|      18 | 1990-01-25 |
|      19 | 1989-12-11 |
|      20 | 1986-08-29 |
|      21 | 1971-06-19 |
|      22 | 2016-08-29 |
|      23 | 2014-04-21 |
|      24 | 2015-07-13 |
|      25 | 2006-11-21 |
|      26 | 2014-03-26 |
|      27 | 1996-09-21 |
|      28 | 2003-06-12 |
|      29 | 2019-11-01 |
|      30 | 1998-09-02 |
|      31 | 2012-12-21 |
|      32 | 1990-04-27 |
|      33 | 2017-06-14 |
|      34 | 2011-03-25 |
|      35 | 2016-04-10 |
|      36 | 2005-09-21 |
|      37 | 1986-06-08 |
|      38 | 1982-05-11 |
|      39 | 1992-07-27 |
|      40 | 2006-05-21 |
|      41 | 1990-12-13 |
|      42 | 1979-01-16 |
|      43 | 2018-01-12 |
|      44 | 2006-06-06 |
|      45 | 1972-07-08 |
|      46 | 1977-12-31 |
|      47 | 1981-01-29 |
|      48 | 1973-02-20 |
|      49 | 2008-12-14 |
|      50 | 1976-11-14 |
|      51 | 2009-11-12 |
|      52 | 1971-07-03 |
|      53 | 2002-02-28 |
|      54 | 1988-12-06 |
|      55 | 2013-09-04 |
|      56 | 1997-11-25 |
|      57 | 2001-10-08 |
|      58 | 1970-07-06 |
|      59 | 1989-03-26 |
|      60 | 1996-09-16 |
|      61 | 2000-06-22 |
|      62 | 2012-02-26 |
|      63 | 2001-07-24 |
|      64 | 2008-10-28 |
|      65 | 1996-10-30 |
|      66 | 1980-10-10 |
|      67 | 1978-10-20 |
|      68 | 2019-07-11 |
|      69 | 1981-12-21 |
|      70 | 2019-03-07 |
|      71 | 2011-02-01 |
|      72 | 2000-11-11 |
|      73 | 2006-09-16 |
|      74 | 1997-08-01 |
|      75 | 1984-06-26 |
|      76 | 2011-03-01 |
|      77 | 2002-03-31 |
|      78 | 1974-10-29 |
|      79 | 1979-09-06 |
|      80 | 2011-06-17 |
|      81 | 2018-04-06 |
|      82 | 1989-01-28 |
|      83 | 2007-10-16 |
|      84 | 2003-05-22 |
|      85 | 2009-06-03 |
|      86 | 2003-12-24 |
|      87 | 2004-10-05 |
|      88 | 1979-05-26 |
|      89 | 2009-08-11 |
|      90 | 1992-02-09 |
|      91 | 2007-01-14 |
|      92 | 2008-04-06 |
|      93 | 2014-12-07 |
|      94 | 2015-04-22 |
|      95 | 1986-05-16 |
|      96 | 1982-11-04 |
|      97 | 2015-02-14 |
|      98 | 1992-09-27 |
|      99 | 1979-03-24 |
|     100 | 2006-10-18 |
+---------+------------+
100 rows in set (0,00 sec)

mysql>


mysql> SELECT COUNT(*) AS total, SUBSTRING(birthday, 6, 10) AS decade FROM profiles GROUP BY decade ORDER BY total DESC;
+-------+--------+
| total | decade |
+-------+--------+
|     3 | 03-25  |
|     2 | 04-10  |
|     2 | 09-16  |
|     2 | 04-06  |
|     2 | 12-21  |
|     2 | 09-21  |
|     2 | 03-26  |
|     2 | 08-29  |
|     2 | 06-08  |
|     2 | 07-08  |
|     2 | 03-01  |
|     2 | 08-27  |
|     2 | 11-14  |
|     1 | 03-07  |
|     1 | 09-06  |
|     1 | 10-29  |
|     1 | 03-31  |
|     1 | 06-26  |
|     1 | 08-01  |
|     1 | 11-11  |
|     1 | 02-01  |
|     1 | 01-28  |
|     1 | 07-11  |
|     1 | 10-20  |
|     1 | 10-10  |
|     1 | 10-30  |
|     1 | 10-28  |
|     1 | 07-24  |
|     1 | 02-26  |
|     1 | 06-22  |
|     1 | 10-18  |
|     1 | 08-11  |
|     1 | 02-14  |
|     1 | 09-27  |
|     1 | 05-16  |
|     1 | 04-22  |
|     1 | 12-07  |
|     1 | 01-14  |
|     1 | 03-24  |
|     1 | 02-09  |
|     1 | 06-17  |
|     1 | 05-26  |
|     1 | 10-05  |
|     1 | 05-19  |
|     1 | 12-24  |
|     1 | 06-03  |
|     1 | 05-22  |
|     1 | 10-16  |
|     1 | 11-04  |
|     1 | 12-11  |
|     1 | 06-14  |
|     1 | 04-27  |
|     1 | 09-02  |
|     1 | 11-01  |
|     1 | 06-12  |
|     1 | 11-21  |
|     1 | 07-13  |
|     1 | 04-21  |
|     1 | 06-19  |
|     1 | 05-11  |
|     1 | 01-25  |
|     1 | 04-13  |
|     1 | 03-23  |
|     1 | 05-25  |
|     1 | 07-21  |
|     1 | 11-29  |
|     1 | 12-27  |
|     1 | 08-03  |
|     1 | 02-20  |
|     1 | 10-08  |
|     1 | 11-25  |
|     1 | 09-04  |
|     1 | 12-06  |
|     1 | 02-28  |
|     1 | 07-03  |
|     1 | 11-12  |
|     1 | 12-14  |
|     1 | 07-06  |
|     1 | 01-29  |
|     1 | 12-31  |
|     1 | 06-06  |
|     1 | 01-12  |
|     1 | 01-16  |
|     1 | 12-13  |
|     1 | 05-21  |
|     1 | 07-27  |
+-------+--------+
86 rows in set (0,00 sec)


mysql> SELECT COUNT(*) AS total, DAYNAME(CONCAT('2020-',SUBSTRING(birthday, 6, 10))) AS decade FROM profiles GROUP BY decade ORDER BY total DESC;
+-------+-----------+
| total | decade    |
+-------+-----------+
|    21 | Monday    |
|    17 | Wednesday |
|    14 | Friday    |
|    13 | Sunday    |
|    13 | Saturday  |
|    12 | Thursday  |
|    10 | Tuesday   |
+-------+-----------+
7 rows in set (0,00 sec)

3. (по желанию) Подсчитайте произведение чисел в столбце таблицы

mysql>  create table div_table(
    -> id INT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
    -> num INT UNSIGNED);
Query OK, 0 rows affected (0,01 sec)

mysql> desc div_table;
+-------+--------------+------+-----+---------+----------------+
| Field | Type         | Null | Key | Default | Extra          |
+-------+--------------+------+-----+---------+----------------+
| id    | int unsigned | NO   | PRI | NULL    | auto_increment |
| num   | int unsigned | YES  |     | NULL    |                |
+-------+--------------+------+-----+---------+----------------+
2 rows in set (0,00 sec)

mysql> insert into div_table (num) VALUES (1), (2), (3), (4), (5);
Query OK, 5 rows affected (0,00 sec)
Records: 5  Duplicates: 0  Warnings: 0

mysql> select * from div_table;
+----+------+
| id | num  |
+----+------+
|  1 |    1 |
|  2 |    2 |
|  3 |    3 |
|  4 |    4 |
|  5 |    5 |
+----+------+
5 rows in set (0,00 sec)

mysql> select exp(sum(ln(num))) from div_table;
+--------------------+
| exp(sum(ln(num)))  |
+--------------------+
| 119.99999999999997 |
+--------------------+
1 row in set (0,00 sec)

mysql> select round(exp(sum(ln(num)))) from div_table;
+--------------------------+
| round(exp(sum(ln(num)))) |
+--------------------------+
|                      120 |
+--------------------------+
1 row in set (0,01 sec)

mysql>


